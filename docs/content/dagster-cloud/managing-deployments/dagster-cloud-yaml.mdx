---
title: dagster_cloud.yaml reference | Dagster Docs
description: Use dagster_cloud.yaml to configure code locations for Dagster Cloud
---

# dagster_cloud.yaml

<table
  className="table"
  style={{
    width: "100%",
  }}
>
  <tbody>
    <tr>
      <td
        style={{
          width: "15%",
        }}
      >
        <strong>Name</strong>
      </td>
      <td>dagster_cloud.yaml</td>
    </tr>
    <tr>
      <td
        style={{
          width: "15%",
        }}
      >
        <strong>Status</strong>
      </td>
      <td>Active</td>
    </tr>
    <tr>
      <td
        style={{
          width: "15%",
        }}
      >
        <strong>Required?</strong>
      </td>
      <td>Optional for Cloud</td>
    </tr>
    <tr>
      <td
        style={{
          width: "15%",
        }}
      >
        <strong>Description</strong>
      </td>
      <td> Similar to the <code>workspace.yaml</code> in open source to define code locations for Dagster Cloud.
      </td>
    </tr>
    <tr>
      <td
        style={{
          width: "15%",
        }}
      >
        <strong>Uses</strong>
      </td>
      <td> Defines multiple code locations for Dagster Cloud. For Hybrid
        deployments, this file can be used{" "}
        <a href="/dagster-cloud/managing-deployments/setting-environment-variables-dagster-cloud-agents">
          to manage environment variables/secrets.
        </a>
        <ul>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

---

## Settings schema

<Note>This reference is applicable to Dagster Cloud.</Note>

The `dagster_cloud.yaml` file is used to configure how one or more [code locations](/dagster-cloud/managing-deployments/code-locations) should be built and deployed to [Dagster Cloud](/dagster-cloud), usually as part of CI/CD.

The file is required to tell Dagster where the code sources are to load into Dagster Cloud.

For [Hybrid Deployments](/dagster-cloud/deployment/hybrid), secrets are also configured in this file since secrets are part of a given code location.

### Where to put the dagster_cloud.yaml file

The `dagster_cloud.yaml` file should be placed in the root of your Dagster project. Below is an example of a file structure from the [Dagster cloud ETL quickstart](https://github.com/dagster-io/dagster/tree/master/examples/quickstart_etl).

```shell
quickstart_etl
├── README.md
├── quickstart_etl
│   ├── __init__.py
│   ├── assets
├── quickstart_etl_tests
├── dagster_cloud.yaml
├── pyproject.toml
├── setup.cfg
└── setup.py
```

If you your repository contains multiple Dagster projects in subdirectories - otherwise known as a monorepository - add the dagster_cloud.yaml file to the root of each project subdirectory.

### Code locations

The only **mandatory** section in the `dagster_cloud.yaml` file is the `locations` key. This top-level key specifies a list of code locations that should be deployed to Dagster Cloud.
At a minimum, each item in `locations` must include the following: 
- A `location_name` key that specifies the name of the code location
- A `code_source` key containing either a `module_name` or `file_name` parameter that specifies where to find the definitions in the code location
Refer to the following table for the full list of parameters a location can have.

Let's put these examples into tabs:

<TabGroup>
<TabItem name="Single code location">

```yaml
# dagster_cloud.yaml

locations:
  - location_name: data-eng-pipeline
    code_source:
      package_name: quickstart_etl
```
</TabItem>
<TabItem name="Multiple code locations">

```yaml 
#dagster_cloud.yaml

locations:
  - location_name: data-eng-pipeline
    code_source:
      package_name: quickstart_etl
  - location_name: machine_learning
    code_source:
      python_file: ml/ml_model.py
```
</TabItem>
</TabGroup>

### Working directory

There might be some cases where you want to load your Dagster code from a different directory than the root of your code repository. You can specify the directory you want to load your Dagster code from in the dagster_cloud.yaml file using the `working_directory` option.


Example file directory:

```shell
quickstart_etl
├── README.md
├── project_directory
│   ├── quickstart_etl
│     ├── __init__.py
│     ├── assets
│   ├── quickstart_etl_tests
├── dagster_cloud.yaml
├── pyproject.toml
├── setup.cfg
└── setup.py
```
Example:

```yaml
#dagster_cloud.yaml

locations:
  - location_name: data-eng-pipeline
    code_source:
      package_name: quickstart_etl
    working_directory: ./project_directory
```

### Build directory

Setting a build directory is useful if your `setup.py` or `requirements.txt` is in a subdirectory instead of the project root. This is common if you have multiple Python packages within a single Dagster project.

The build registry is applicable to hybrid deployments only.

Example:

```yaml
# dagster_cloud.yaml

locations:
  - location_name: data-eng-pipeline
    code_source:
      package_name: quickstart_etl
    build:
      directory: ./
      registry: your-docker-image-registry/image-name
```

### Python executable

If you are using Dagster Cloud Serverless, the Python executable to use is specified [here](https://docs.dagster.io/dagster-cloud/deployment/serverless#using-a-different-python-version). For Dagster Cloud Hybrid, the python executable that is installed globally in the image, or the default Python executable on the local system if you use the local agent, will be used. If you want to use a different python executable, you can specify it in the dagster_cloud.yaml file. It might also be useful to have different python executables for different code locations.

```yaml
# dagster_cloud.yaml

locations:
  - location_name: data-eng-pipeline
    code_source:
      package_name: quickstart_etl
    executable_path: venvs/path/to/dataengineering_spark_team/bin/python
  - location_name: machine_learning
    code_source:
      python_file: ml_model.py
    executable_path: venvs/path/to/ml_tensorflow/bin/python
```

---

### Container context

If using Hybrid deployment, you can define additional configuration options for code locations using 
the `container_context` parameter. Depending on the Hybrid agent you're using, the configuration settings under `container_context` will vary.

Refer to the configuration reference for your agent for more info: 

- [Docker agent configuration reference](/dagster-cloud/deployment/agents/docker/configuration-reference)
- [Amazon ECS agent configuration reference](/dagster-cloud/deployment/agents/amazon-ecs/configuration-reference#amazon-ecs-agent-configuration-reference)
- [Kubernetes agent configuration reference](/dagster-cloud/deployment/agents/kubernetes/configuration-reference)


---

## Settings

<ReferenceTable>
  <ReferenceTableItem propertyName="location_name">
    The name of your code location that will appear in the Dagster UI Code locations page 
    <ul>
      <li>
        <strong>Format</strong> - <code>string</code>
      </li>
    </ul>
  </ReferenceTableItem>
      <ReferenceTableItem propertyName="code_source.package_name">
    The name of a package containing Dagster code
    <ul>
      <li>
        <strong>Format</strong> - <code>string</code>(folder name)
      </li>
    </ul>
  </ReferenceTableItem>
 <ReferenceTableItem propertyName="code_source.python_file">
     The name of a Python file containing Dagster code, for example: `analytics_pipeline.py` 
    <ul>
      <li>
        <strong>Format</strong> - <code>string</code>(.py file name)
      </li>
    </ul>
  </ReferenceTableItem>
 <ReferenceTableItem propertyName="code_source.module_name">
    The name of a Python module containing Dagster code, for example: `analytics_etl`
    <ul>
      <li>
        <strong>Format</strong> - <code>string</code>(module name)
      </li>
    </ul>
  </ReferenceTableItem>
 <ReferenceTableItem propertyName="working_directory">
    The path of the directory that Dagster should load the code source from
    <ul>
      <li>
        <strong>Format</strong> - <code>string</code>(path)
      </li>
    </ul>
  </ReferenceTableItem>
   <ReferenceTableItem propertyName="build.directory">
    The path to the directory in your project that you want to deploy. If there are subdirectories, you can specify the path to only deploy a specific project directory. 
    <ul>
      <li>
        <strong>Format</strong> - <code>string</code>(path)
      </li>
      <li>
        <strong>Default</strong> - <code>.</code>
    </ul>
  </ReferenceTableItem>
     <ReferenceTableItem propertyName="build.registry">
    <strong>Applicable to Hybrid deployments.</strong> The Docker registry to push your code location to in the registry
    <ul>
      <li>
        <strong>Format</strong> - <code>string</code>(docker registry)
      </li>
    </ul>
  </ReferenceTableItem>
       <ReferenceTableItem propertyName="executable_path">
    The file path of the Python executable to use
    <ul>
      <li>
        <strong>Format</strong> - <code>string</code>(path)
      </li>
    </ul>
  </ReferenceTableItem>
</ReferenceTable>
