---
title: "Dagster Cloud environment variables and secrets | Dagster Docs"
---

# Dagster Cloud environment variables and secrets

<Note>This is applicable to Dagster Cloud.</Note>

Environment variables, which are key-value pairs configured outside your source code, allow you to dynamically modify application behavior depending on the environment. Environment variables enable you to write application code once and re-use it across environments, supplying the appropriate values

For example, you don't want to accidentally impact production data during development, so you use a database specific for development (`dev_database`) instead. Using environment variables, you can supply the development database's

- TODO: Mention secrets

---

## TODO Overview

The simplest method to declare an environment variable is to use Dagster Cloud's built-in secrets manager, which allows you to create and manage environment variables right in the UI. If you prefer not to use Dagster Cloud's secrets manager, you can use one of the other methods supported for your [deployment type](/dagster-cloud/deployment).

The following table compares the supported declaration methods:

- **Setup method** - The method for declaring environment variables
- **How it works** - Summary of how environment variables are configured for the setup method
- **Limitations** - Limitations of the method, if any

<table
  className="table"
  style={{
    width: "100%",
  }}
>
  <thead>
    <tr>
      <th
        style={{
          width: "15%",
        }}
      >
        Setup method
      </th>
      <th
        style={{
          width: "40%",
        }}
      >
        How it works
      </th>
      <th>Limitations</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <a href="/dagster-cloud/developing-testing/environment-variables/managing-environment-variables-in-dagit">
          Dagit (UI)
        </a>
      </td>
      <td>
        Environment variables are managed entirely in Dagster Cloud.{" "}
        <strong>Supported for Serverless and Hybrid deployments.</strong>
      </td>
      <td>
        <ul>
          <li>
            Requires <strong>Editor</strong> or{" "}
            <strong>Organization Admin</strong> permissions in Dagster Cloud
          </li>
          <li>TODO: Scoped to code location</li>
          <li>TODO: Maximum of X environment variables</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>
        <a href="/dagster-cloud/developing-testing/environment-variables/setup-for-serverless-deployments#configuring-environment-variables-in-github">
          GitHub secrets
        </a>
      </td>
      <td>
        Environment variables are defined in a GitHub repository using Action
        Secrets.
      </td>
      <td>
        Supported for <strong>Serverless deployments only</strong>
      </td>
    </tr>
    <tr>
      <td>
        <a href="/dagster-cloud/developing-testing/environment-variables/setup-for-serverless-deployments#passing-environment-variables-using-the-dagster-cloud-cli">
          dagster-cloud CLI
        </a>
      </td>
      <td>
        Useful if you're using GitLab or BitBucket, environment variables can be
        passed in by using the <code>--env</code> flag in the CLI.
      </td>
      <td>
        Supported for <strong>Serverless deployments only</strong>
      </td>
    </tr>
    <tr>
      <td>
        <a href="/dagster-cloud/developing-testing/environment-variables/setup-for-hybrid-deployments">
          Agent configuration
        </a>
      </td>
      <td>
        Environment variables are defined in the agent's configuration in your
        project's <code>dagster_cloud.yaml</code> file.
      </td>
      <td>
        Supported for <strong>Hybrid deployments only</strong>
      </td>
    </tr>
  </tbody>
</table>

---

## Declaring environment variables

TODO: Add blurb

<TabGroup>
  <TabItem name="Dagster Cloud UI">
    <p>Declaring environment variables in the Dagster Cloud UI is supported for both Serverless and Hybrid deployments.</p>
    <ol>
    <li>Sign into your Dagster Cloud account.</li>
    <li>Click the code location you want to add an environment variable to.</li>
    <li>Click the <strong>Environment Variables</strong> tab.</li>
    <li>Click <strong>+ Add</strong> to add a new environment variable.</li>
    <li>In the window that displays, fill in the following:<ul>
    <li><strong>Key name</strong> - Enter a name for the environment variable. This is how the variable will be referenced in your code.</li>
    <li><strong>Value</strong> - Enter a value for the environment variable.</li>
    <li>Select the deployment(s) to apply the variable to:<ul>
    <li><strong>Production</strong></li>
    <li><strong>Branch Deployments</strong></li>
    <li><strong>Local</strong></li>
    </ul>
    </li>
    </ul>
    </li>
    <li>When finished, click <strong>Save</strong>.</li>
    </ol>
  </TabItem>
  <TabItem name="dagster-cloud CLI (Serverless)">
<p>If you're using a git provider like GitLab or Bitbucket, you can use the <a href="/dagster-cloud/developing-testing/dagster-cloud-cli">dagster-cloud CLI</a> to pass in environment variables with the <code>--env</code> flag.</p>

<p>
  This flag accepts <code>KEY=VALUE</code> pairs. For example:
</p>

```shell
dagster-cloud serverless deploy --env DATABASE_USERNAME=hooli_testing
```

  </TabItem>
  <TabItem name="Agent configuration (Hybrid)">
    <p>
      For Dagster Cloud Hybrid deployments, making environment variables accessible is accomplished by adding them to your agent's configuration in your project's <code>dagster_cloud.yaml</code> file. How the <code>container_context</code> property is configured depends on the agent type.
    </p>
    <p>
      Refer to the configuration reference for your agent type for more info and examples:
    </p>
    <ul>
      <li><a href="/dagster-cloud/deployment/agents/amazon-ecs/configuration-reference#environment-variables-and-secrets">Amazon ECS</a></li>
      <li><a href="/dagster-cloud/deployment/agents/docker/configuration-reference#environment-variables-and-secrets">Docker</a></li>
      <li><a href="/dagster-cloud/deployment/agents/kubernetes/configuration-reference#environment-variables-and-secrets">Kubernetes</a></li>
    </ul>
  </TabItem>
</TabGroup>

---

## Accessing environment variables in Dagster code

<TODO></TODO>

In Dagster, best practice for handling secrets uses two Dagster concepts: **Config** and **Resources**.

- Create and configure a resource
- Use an I/O manager

A resource is typically used to connect to an external service or system, such as a database. Resources can be configured separately from the rest of your app, allowing you to define it once and reuse it as needed.

In this step, you'll create the resource in your Dagster project. In your project's `/resources` folder, create a file

---

## References

<ArticleList>
  <ArticleListItem
    href="/dagster-cloud/developing-testing/environment-variables/reference#all-deployment-variables"
    title="All deployment variables"
  ></ArticleListItem>
  <ArticleListItem
    href="/dagster-cloud/developing-testing/environment-variables/reference#branch-deployment-variables"
    title="Branch Deployment variables"
  ></ArticleListItem>
</ArticleList>
