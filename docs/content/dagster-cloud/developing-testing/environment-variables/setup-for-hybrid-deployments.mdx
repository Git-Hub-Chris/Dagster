---
title: Using custom environment variables in Dagster Cloud
description: TODO
---

# Configuring environment variables for Dagster Cloud Hybrid deployments

<Note>
  Using Dagster Open Source? Check out the{" "}
  <a href="/guides/dagster/using-environment-variables-and-secrets-in-dagster-os">
    Dagster Open Source
  </a>{" "}
  version of this guide!
</Note>


If you're using [Hybrid deployment](/dagster-cloud/deployment/hybrid), add the environment variables to your agent's configuration to make them accessible. This is accomplished by using the `container_context` property in your project's `dagster_cloud.yaml` file.

Select your agent type to view an agent-specific configuration example.

<details><summary>AMAZON ECS AGENTS</summary>

```yaml
container_context:
  ecs:
    env_vars:
      - DATABASE_NAME
      - SCHEMA_NAME=testing
    secrets:
      - name: GITHUB_API_TOKEN
        valueFrom: "arn:aws:secretsmanager:us-east-1:xxxxxx:secret:secret_name:GITHUB_API_TOKEN::"
```

For Amazon ECS agents, use `container_context.ecs.env_vars` and `container_context.ecs.secrets` to include environment variables and AWS Secrets Manager secrets in ECS tasks:

<ReferenceTable>
  <ReferenceTableItem propertyName="env_vars">
    A list of environment variable names, formatted as <code>KEY</code> or{" "}
    <code>KEY=VALUE</code>. If only <code>KEY</code>, the value will be pulled
    from the current process.
  </ReferenceTableItem>
  <ReferenceTableItem propertyName="secrets">
    A list of AWS Secrets Manager secrets, mounted as environment variables in
    the container. Each item in the list must have the following properties:
    <ul>
      <li>
        <code>name</code> - The name of the secret
      </li>
      <li>
        <code>valueFrom</code> - The full ARN of the AWS Secrets Manager secret
        to expose to the container
      </li>
    </ul>
    Refer to the{" "}
    <a href="https://docs.aws.amazon.com/AmazonECS/latest/APIReference/API_Secret.html">
      AWS documentation
    </a>{" "}
    for more info.
  </ReferenceTableItem>
</ReferenceTable>

</details>

<details><summary>DOCKER AGENTS</summary>

```yaml
container_context:
  docker:
    env_vars:
      - GITHUB_API_TOKEN
      - DATABASE_NAME=testing
```

For Docker agents, use the `container_context.docker.env_vars` property to include environment variables in the Docker container. This property is a list, where each item can be either `KEY` or `KEY=VALUE`. If only `KEY`, the value will be pulled from the local environment.

</details>

<details><summary>KUBERNETES AGENTS</summary>

```yaml
container_context:
  k8s:
    env_vars:
      - DATABASE_NAME=testing
    env_secrets:
      - GITHUB_API_TOKEN
      - SNOWFLAKE_PASSWORD
```

For Kubernetes agents, use the `container_context.k8s.env_vars` and `container_context.k8s.env_secrets` properties to specify environment variables and secrets:

<ReferenceTable>
  <ReferenceTableItem propertyName="env_vars">
    A list of environment variable names to inject into the job, formatted as{" "}
    <code>KEY</code> or <code>KEY=VALUE</code>. If only <code>KEY</code>, the
    value will be pulled from the current process.
  </ReferenceTableItem>
  <ReferenceTableItem propertyName="env_secrets">
    A list of secret names, from which environment variables for a job are drawn
    using <code>envFrom</code>. Refer to the{" "}
    <a href="https://kubernetes.io/docs/tasks/inject-data-application/distribute-credentials-secure/#configure-all-key-value-pairs-in-a-secret-as-container-environment-variables">
      Kubernetes documentation
    </a>{" "}
    for more info.
  </ReferenceTableItem>
</ReferenceTable>

</details>

---

## Accessing environment variables in Dagster code
