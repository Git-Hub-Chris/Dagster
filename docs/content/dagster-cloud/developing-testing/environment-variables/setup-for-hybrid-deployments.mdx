---
title: Configuring environment variables for Dagster Cloud Hybrid deployments | Dagster Docs
description: Configure custom environment variables for a Dagster Cloud Hybrid deployment.
---

# Configuring environment variables for Dagster Cloud Hybrid deployments

<Note>
  This guide is applicable to Dagster Cloud. If you're using Dagster Cloud
  Serverless deployments, refer to the{" "}
  <a href="/dagster-cloud/developing-testing/environment-variables/setup-for-serverless-deployments">
    Serverless version of this guide
  </a>
  .
</Note>

<TODO></TODO>

---

## Configuring the agent

For Hybrid deployments, making environment variables accessible is accomplished by adding them to your agent's configuration in your project's `dagster_cloud.yaml` file. In this section, we'll show you how to configure the `container_context` property for your agent, which is used to pass in environment variables.

How the `container_context` property is configured depends on the agent type:

- [Amazon ECS](#amazon-ecs-agents)
- [Docker](#docker-agents)
- [Kubernetes](#kubernetes-agents)

### Amazon ECS agents

For Amazon ECS agents, use `container_context.ecs.env_vars` and `container_context.ecs.secrets` to include environment variables and AWS Secrets Manager secrets in ECS tasks:

```yaml
## dagster_cloud.yaml

container_context:
  ecs:
    env_vars:
      - DATABASE_NAME
      - SCHEMA_NAME=testing
    secrets:
      - name: GITHUB_API_TOKEN
        valueFrom: "arn:aws:secretsmanager:us-east-1:xxxxxx:secret:secret_name:GITHUB_API_TOKEN::"
```

<ReferenceTable>
  <ReferenceTableItem propertyName="env_vars">
    A list of environment variable names, formatted as <code>KEY</code> or{" "}
    <code>KEY=VALUE</code>. If only <code>KEY</code>, the value will be pulled
    from the current process.
  </ReferenceTableItem>
  <ReferenceTableItem propertyName="secrets">
    A list of AWS Secrets Manager secrets, mounted as environment variables in
    the container. Each item in the list must have the following properties:
    <ul>
      <li>
        <code>name</code> - The name of the secret
      </li>
      <li>
        <code>valueFrom</code> - The full ARN of the AWS Secrets Manager secret
        to expose to the container
      </li>
    </ul>
    Refer to the{" "}
    <a href="https://docs.aws.amazon.com/AmazonECS/latest/APIReference/API_Secret.html">
      AWS documentation
    </a>{" "}
    for more info.
  </ReferenceTableItem>
</ReferenceTable>

### Docker agents

For Docker agents, use the `container_context.docker.env_vars` property to include environment variables in the Docker container:

```yaml
## dagster_cloud.yaml

container_context:
  docker:
    env_vars:
      - GITHUB_API_TOKEN
      - DATABASE_NAME=testing
```

The `container_context.docker.env_vars` property is a list, where each item can be either `KEY` or `KEY=VALUE`. If only `KEY`, the value will be pulled from the local environment.

### Kubernetes agents

For Kubernetes agents, use the `container_context.k8s.env_vars` and `container_context.k8s.env_secrets` properties to specify environment variables and secrets:

```yaml
## dagster_cloud.yaml

container_context:
  k8s:
    env_vars:
      - DATABASE_NAME=testing
    env_secrets:
      - GITHUB_API_TOKEN
      - SNOWFLAKE_PASSWORD
```

<ReferenceTable>
  <ReferenceTableItem propertyName="env_vars">
    A list of environment variable names to inject into the job, formatted as{" "}
    <code>KEY</code> or <code>KEY=VALUE</code>. If only <code>KEY</code>, the
    value will be pulled from the current process.
  </ReferenceTableItem>
  <ReferenceTableItem propertyName="env_secrets">
    A list of secret names, from which environment variables for a job are drawn
    using <code>envFrom</code>. Refer to the{" "}
    <a href="https://kubernetes.io/docs/tasks/inject-data-application/distribute-credentials-secure/#configure-all-key-value-pairs-in-a-secret-as-container-environment-variables">
      Kubernetes documentation
    </a>{" "}
    for more info.
  </ReferenceTableItem>
</ReferenceTable>

---

## Accessing environment variables in Dagster code

<TODO></TODO>