---
title: "External Assets REST API reference | Dagster Docs"
---

# External Assets REST API reference

As Dagster doesn't control scheduling or materializing [external assets](/concepts/assets/external-assets), it's up to you to keep their metadata updated. Use the endpoints described in this reference to report updates for external assets back to Dagster.

| Endpoint                                                                  | Description                                                                        |
| ------------------------------------------------------------------------- | ---------------------------------------------------------------------------------- |
| [`POST /report_asset_materialization/`](#report-an-asset-materialization) | Records an <PyObject object="AssetMaterialization" /> event for an external asset. |
| `POST /report_asset_check/`                                               | Records an asset check evaluation for an external asset.                           |
| `POST /report_asset_observation/`                                         | Records an <PyObject object="AssetObservation" /> event for an external asset.     |

---

## Report an asset materialization

Records an <PyObject object="AssetMaterialization" /> event for an external asset. This event type notifies the Dagster framework that a materialized value has been produced for an asset.

Using this endpoint, you could report to Dagster that an [external asset](/concepts/assets/external-assets) has been updated and include \[metadata about the materialization]\(/concepts/metadata-tags/asset-metadata. For example, the number of updated rows, the time the update occurred, and so on.

### Resources

<table
  className="table"
  style={{
    width: "100%",
  }}
>
  <tbody>
    <tr>
      <td
        style={{
          width: "15%",
        }}
      >
        <strong>Method</strong>
      </td>
      <td>POST</td>
    </tr>
    <tr>
      <td>
        <strong>Resource URL</strong>
      </td>
      <td>
        <code>/report_asset_materialization</code>
      </td>
    </tr>
    <tr>
      <td>
        <strong>Authentication</strong>
      </td>
      <td>
        <strong>Required only for Dagster+.</strong> The request header must
        contain the <code>Dagster-Cloud-Api-Token</code> header and a valid user
        token.
      </td>
    </tr>
    <tr>
      <td>
        <strong>Request header</strong>
      </td>
      <td>
        The request header must specify the following:
        <ul>
          <li>
            <code>Dagster-Cloud-Api-Token</code> - Required if using Dagster+,
            e.g. <code>Dagster-Cloud-Api-Token: [USER_TOKEN]</code>
          </li>
          <li>
            <code>Content-Type</code> - Required if the request contains a JSON
            body, specified as <code>Content-Type: application/json</code>
          </li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>
        <strong>Request body</strong>
      </td>
      <td>If included, the request body must be valid JSON.</td>
    </tr>
  </tbody>
</table>

### Parameters

Parameters can be passed in multiple ways and will be considered in the following order:

1. URL (`asset_key` only)
2. Request body, which must be valid JSON
3. Query parameter

<table
  className="table"
  style={{
    width: "100%",
  }}
>
  <thead>
    <tr>
      <th
        style={{
          width: "15%",
        }}
      >
        Name
      </th>
      <th
        style={{
          width: "15%",
        }}
      >
        Required/Optional
      </th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>asset_key</td>
      <td>Required</td>
      <td>
        The key of the materialized asset. May be passed as:
        <ul>
          <li>
            <strong>URL path</strong> - Specified as path components after{" "}
            <code>/report_asset_materialization/</code>, where each{" "}
            <code>/</code> delimits parts of a multipart{" "}
            <PyObject object="AssetKey" />.
          </li>
          <li>
            <strong>JSON body</strong> - Value is passed to the{" "}
            <PyObject object="AssetKey" /> constructor.
          </li>
          <li>
            <strong>Query parameter</strong> - Accepts string or JSON encoded
            array for multipart keys.
          </li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>metadata</td>
      <td>Optional</td>
      <td>
        Arbitrary metadata about the asset, specified as key-value pairs. May be
        passed as:
        <ul>
          <li>
            <strong>JSON body</strong> - Value is passed to the{" "}
            <PyObject object="AssetMaterialization" /> constructor.
          </li>
          <li>
            <strong>Query parameter</strong> - Accepts a JSON encoded object.
          </li>
        </ul>
      </td>
    </tr>
    <tr>
      <td>data_version</td>
      <td>Optional</td>
      <td>
        TODO. May be passed in JSON body or as query parameter. Value is passed
        to <PyObject object="AssetMaterialization" /> via <code>tags</code>.
      </td>
    </tr>
    <tr>
      <td>description</td>
      <td>Optional</td>
      <td>
        A human-readable description of the materialized value. May be passed in
        JSON body or as query parameter. Value is passed to the{" "}
        <PyObject object="AssetMaterialization" /> constructor.
      </td>
    </tr>
    <tr>
      <td>partition</td>
      <td>Optional</td>
      <td>
        The name of the partition that was materialized. May be passed in JSON
        body or as query parameter. Value is passed to the{" "}
        <PyObject object="AssetMaterialization" /> constructor.
      </td>
    </tr>
  </tbody>
</table>

### Returns

The API will return JSON, whether the request succeeds or fails.

- `200 OK` - Response body contains an empty object: `{}`
- `400 Bad request` - Response body contains an `error` object: `{"error": ...}`

### Examples

<TabGroup>
<TabItem name="Local webserver">

#### Local webserver

Report an asset materialization against locally running webserver:

```bash
curl -X POST localhost:3000/report_asset_materialization/{ASSET_KEY}
```

</TabItem>
<TabItem name="Dagster+">

#### Dagster+

Report an asset materialization against Dagster+ with a JSON body via cURL:

```bash
curl --request POST \
    --url https://{ORGANIZATION}.dagster.cloud/{deployment_name}/report_asset_materialization/ \
    --header 'Content-Type: application/json' \
    --header 'Dagster-Cloud-Api-Token: {TOKEN}' \
    --data '{
        "asset_key": "{ASSET_KEY}",
        "metadata": {
            "rows": 10
        },
    }'
```

Report an asset materialization against Dagster+ in Python using `requests`:

```python
import requests

url = "https://{ORGANIZATION}.dagster.cloud/{DEPLOYMENT_NAME}/report_asset_materialization/"

payload = {
    "asset_key": "ASSET_KEY",
    "metadata": {"rows": 10},
}
headers = {
    "Content-Type": "application/json",
    "Dagster-Cloud-Api-Token": "TOKEN"
}

response = requests.request("POST", url, json=payload, headers=headers)
response.raise_for_status()
```

</TabItem>
<TabItem name="Open source deployment">

#### Open source deployment

Report an asset materialization against an open source deployment (hosted at `DAGSTER_WEBSERVER_HOST`) in Python using `requests`:

```python
import requests

url = f"{DAGSTER_WEBSERVER_HOST}/report_asset_materialization/{ASSET_KEY}"
response = requests.request("POST", url)
response.raise_for_status()
```

</TabItem>
</TabGroup>
