---
title: "Using dbt with Dagster software-defined assets"
description: Dagster can orchestrate dbt alongside other technologies.
---

# Using dbt with Dagster software-defined assets

<Note>
  Using dbt Cloud? Check out the{" "}
  <a href="/integrations/dbt-cloud">dbt Cloud with Dagster guide</a>!
</Note>

Using Dagster, you can combine dbt and the other technologies in your stack - Spark, Python, and so on - into a single data pipeline. You could, for example:

- Run your dbt models after ingesting data into your data warehouse
- Selectively materialize dbt models and their dependencies

<TODO></TODO>

---

## dbt models and Dagster software-defined assets

Dagster’s [software-defined assets](/concepts/assets/software-defined-assets) (SDAs) bear a number of similarities to dbt models. A software-defined asset contains an asset key, a set of upstream asset keys, and an operation that is responsible for computing the asset from its upstream dependencies. Models defined in a dbt project are similar to Dagster SDAs in that:

- The asset key for a dbt model is (by default) the name of the model.
- The upstream dependencies of a dbt model are defined with `ref` or `source` calls within the model's definition.
- The computation required to compute the asset from its upstream dependencies is the SQL within the model's definition.

These similarities make it natural to interact with dbt models as SDAs. Let’s take a look at a dbt model and an SDA, in code:

<Image
alt="Comparison of a dbt model and Dagster asset in code"
src="/images/integrations/dbt/asset-dbt-model-comparison.png"
width={774}
height={345}
/>

Here's what's happening in this example:

<TODO></TODO>

Dagster has built-in support for loading dbt models, seeds, and snapshots as SDAs, enabling you to:

- Visualize and orchestrate a graph of dbt assets, and execute them with a single dbt invocation
- View detailed historical metadata and logs for each asset
- Define Python computations that depend directly on tables updated using dbt
- Track data lineage through dbt and your other tools

---

## In this tutorial

In this tutorial, we'll walk you through integrating dbt with Dagster using dbt's example [jaffle shop project](https://github.com/dbt-labs/jaffle_shop), the [dagster-dbt library](/\_apidocs/libraries/dagster-dbt), and a DuckDB database. By the end of this tutorial, you will:

- Understand how dbt models and Dagster [software-defined assets](/concepts/assets/software-defined-assets) (or SDAs) work together
- [Set up a dbt project](/integrations/dbt/using-dbt-with-dagster/part-one)
- [Create Dagster assets upstream of the dbt models](/integrations/dbt/using-dbt-with-dagster/part-two)
- [Materialize the assets using Dagit](/integrations/dbt/using-dbt-with-dagster/part-three), Dagster's web interface
- [Create a downstream asset](/integrations/dbt/using-dbt-with-dagster/part-four) that outputs a histogram chart using plotly

---

## Prerequisites

To complete this tutorial, you'll need:

- **To install dbt and Dagster**. Refer to the [dbt](https://docs.getdbt.com/dbt-cli/install/overview) and [Dagster](/getting-started/install) installation docs for more info.

- **An existing dbt project.** This tutorial uses dbt's example [jaffle shop project](https://github.com/dbt-labs/jaffle_shop), but you can follow along with a different project.

  **Note**: If you choose to use a different project, you won't be able to use the code examples in this tutorial as-is, but you can still follow along conceptually.

- **To install the following libraries:**

  - **dbt-duckdb.** This tutorial uses [DuckDB](https://docs.getdbt.com/reference/warehouse-profiles/duckdb-profile) as the database backing dbt.

  - **dagster-dbt.** This library allows you to integrate dbt with Dagster.

  - **dagster-duckdb.** This library provides a resource that enables the materialization of Dagster assets.

  - **pandas.** This tutorial uses [pandas](https://pandas.pydata.org/docs/index.html) to fetch raw data.

  - **plotly**. This tutorial uses [plotly](https://plotly.com/python/) to create a histogram asset.

  To install everything, run the following:

  ```shell
  pip install dbt-duckdb dagster-dbt dagster-duckdb pandas plotly
  ```

---

## Ready to get started?

When you've fulfilled all the [prerequisites](#prerequisites) for the tutorial, you can get started by [setting up the dbt project](/integrations/dbt/using-dbt-with-dagster/part-one).
