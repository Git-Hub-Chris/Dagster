{
  "parents": [{ "link": "../../api/", "title": "API Docs" }],
  "prev": { "link": "../dagster_airflow/", "title": "dagster_airflow" },
  "next": { "link": "../dagster_cron/", "title": "dagster_cron" },
  "title": "dagster_celery",
  "meta": {},
  "body": "<div class=\"section\" id=\"dagster-celery\">\n<h1>dagster_celery<a class=\"headerlink\" href=\"#dagster-celery\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<dl class=\"data\">\n<dt id=\"dagster_celery.celery_executor\">\n<code class=\"sig-prename descclassname\">dagster_celery.</code><code class=\"sig-name descname\">celery_executor</code><em class=\"property\"> ExecutorDefinition</em><a class=\"reference internal\" href=\"../../../../_modules/dagster_celery/executor/#celery_executor\"><span class=\"viewcode-link\">[source]</span></a><a class=\"headerlink\" href=\"#dagster_celery.celery_executor\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Celery-based executor.</p>\n<p>The Celery executor exposes config settings for the underlying Celery app under\nthe <code class=\"docutils literal notranslate\"><span class=\"pre\">config_source</span></code> key. This config corresponds to the \u201cnew lowercase settings\u201d introduced\nin Celery version 4.0 and the object constructed from config will be passed to the\n<a class=\"reference external\" href=\"http://docs.celeryproject.org/en/latest/reference/celery.html#celery.Celery\" title=\"(in Celery v4.3)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">celery.Celery</span></code></a> constructor as its <code class=\"docutils literal notranslate\"><span class=\"pre\">config_source</span></code> argument.\n(See <a class=\"reference external\" href=\"https://docs.celeryproject.org/en/latest/userguide/configuration.html\">https://docs.celeryproject.org/en/latest/userguide/configuration.html</a> for details.)</p>\n<p>The executor also exposes the <code class=\"docutils literal notranslate\"><span class=\"pre\">broker</span></code>, <cite>backend</cite>, and <code class=\"docutils literal notranslate\"><span class=\"pre\">include</span></code> arguments to the\n<a class=\"reference external\" href=\"http://docs.celeryproject.org/en/latest/reference/celery.html#celery.Celery\" title=\"(in Celery v4.3)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">celery.Celery</span></code></a> constructor.</p>\n<p>In the most common case, you may want to modify the <code class=\"docutils literal notranslate\"><span class=\"pre\">broker</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">backend</span></code> (e.g., to use\nRedis  instead of RabbitMQ). We expect that <code class=\"docutils literal notranslate\"><span class=\"pre\">celery_settings</span></code> will be less frequently\nmodified, but that when solid executions are especially fast or slow, or when there are\ndifferent requirements around idempotence or retry, it will make sense to execute pipelines\nwith variations on these settings.</p>\n<p><strong>Config</strong>:\n.. code-block:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span>{\n    broker?: &#39;pyamqp://guest@localhost//&#39;,  # The URL of the Celery broker\n    backend?: &#39;rpc://&#39;, # The URL of the Celery results backend\n    include?: [&#39;my_module&#39;], # List of modules every worker should import\n    celery_settings: {\n        ... # Celery app config\n    }\n}\n</pre></div>\n</div>\n<p>If you\u2019d like to configure a celery executor in addition to the\n<a class=\"reference internal\" href=\"../execution/#dagster.default_executors\" title=\"dagster.default_executors\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">default_executors</span></code></a>, you should add it to the <code class=\"docutils literal notranslate\"><span class=\"pre\">executor_defs</span></code> defined on a\n<a class=\"reference internal\" href=\"../pipeline/#dagster.ModeDefinition\" title=\"dagster.ModeDefinition\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ModeDefinition</span></code></a> as follows:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">dagster</span> <span class=\"kn\">import</span> <span class=\"n\">ModeDefinition</span><span class=\"p\">,</span> <span class=\"n\">default_executors</span><span class=\"p\">,</span> <span class=\"n\">pipeline</span>\n<span class=\"kn\">from</span> <span class=\"nn\">dagster_celery</span> <span class=\"kn\">import</span> <span class=\"n\">celery_executor</span>\n\n<span class=\"nd\">@pipeline</span><span class=\"p\">(</span><span class=\"n\">mode_defs</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"n\">ModeDefinition</span><span class=\"p\">(</span><span class=\"n\">executor_defs</span><span class=\"o\">=</span><span class=\"n\">default_executors</span> <span class=\"o\">+</span> <span class=\"p\">[</span><span class=\"n\">celery_executor</span><span class=\"p\">])])</span>\n<span class=\"k\">def</span> <span class=\"nf\">celery_enabled_pipeline</span><span class=\"p\">():</span>\n    <span class=\"k\">pass</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n",
  "metatags": "",
  "rellinks": [
    ["genindex", "General Index", "I", "index"],
    ["py-modindex", "Python Module Index", "", "modules"],
    ["sections/api/apidocs/dagster_cron", "dagster_cron", "N", "next"],
    ["sections/api/apidocs/dagster_airflow", "dagster_airflow", "P", "previous"]
  ],
  "sourcename": "sections/api/apidocs/dagster_celery.rst.txt",
  "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">dagster_celery</a></li>\n</ul>\n",
  "display_toc": false,
  "page_source_suffix": ".rst",
  "current_page_name": "sections/api/apidocs/dagster_celery",
  "sidebars": ["globaltoc.html", "searchbox.html"],
  "customsidebar": null,
  "alabaster_version": "0.7.12"
}
